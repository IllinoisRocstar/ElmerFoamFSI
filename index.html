<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ElmerFoamFSI: ElmerFoamFSI Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="IRTriangles_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ElmerFoamFSI
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">ElmerFoamFSI is fluid-solid interaction simulation application built up from OpenFOAM CFD and Elmer CSM coupled through the IMPACT multiphysics software integration infrastructure.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="elmerfoamfsi_intro"></a>
Introduction</h1>
<p><b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> is a fluid-solid interaction simulation application built on <b><em>OpenFOAM</em></b> (CFD) and <b><em>Elmer</em></b> (CSM), coupled through Illinois Rocstar's <b><em>IMPACT</em></b> multiphysics software integration infrastructure. <br/>
 <br/>
 To begin using <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b>, clone the repository from github via git clone: </p>
<blockquote class="doxtable">
<p>git clone <a href="https://github.com/IllinoisRocstar/ElmerFoamFSI">https://github.com/IllinoisRocstar/ElmerFoamFSI</a></p>
<p></p>
</blockquote>
<h1><a class="anchor" id="quick_start"></a>
Build and Install</h1>
<p>The top level directory of <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> comes with a build script (<b> BuildScript </b>) made to run within a Linux terminal. This script executes cmake, make, and make install for the various components of the project. <br/>
 <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> requires C, C++, and Fortran compilers. Additionally, it requires gfortran of version greater than 4.8. <br/>
 Before beginning ensure that your gfortran compiler meets this requirement.</p>
<h3>1. Obtain the required submodules</h3>
<p>Navigate into the top level directory for <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b>:</p>
<blockquote class="doxtable">
<p>cd <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></p>
<p></p>
</blockquote>
<p>Issue the following command to obtain the necessary submodules from GitHub:</p>
<blockquote class="doxtable">
<p>git submodule update --init --recursive</p>
<p></p>
</blockquote>
<p>The directories IMPACT, IMPACT/IRAD/ elmerfem, and foam should now be populated.</p>
<h3>2. Execute the build script</h3>
<p>Call the build script from the top level <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> directory. Provide it with the argument "first," since this is the first time building it:</p>
<blockquote class="doxtable">
<p>./BuildScript first</p>
<p></p>
</blockquote>
<p>The script may ask if the user wishes to compile without Paraview. It is fine to say "yes" to this question. The entire build and install process can take up to around 6 hours depending on the machine. <br/>
 If any errors occur during the build and install process, <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> should stop the process and log the error. All output from the build is located in a file named <b> Build.dat </b> located in the same location as <b>BuildScript</b>; the output can be checked for build, install, and error messages. At the end of the build, the tests for <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> should run and all pass. If any tests fail, there may be an issue with the build. <br/>
 If all goes according to plan, executing this script and answering "yes" should be the only steps required to build.</p>
<h3>3. Rebuilding</h3>
<p>In the event you want to rebuild <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b>, <b> BuildScript </b> can simply be executed again without providing the "first" argument above:</p>
<blockquote class="doxtable">
<p>./BuildScript</p>
<p></p>
</blockquote>
<p>The "first" argument causes the <b><em>OpenFOAM</em></b> first install script to be called instead of the regular build script, patches some files required for linking the two applications, and makes some useful links in the install directory.</p>
<p>The full list of arguments for <b>BuildScript</b> are as follows:</p>
<ul>
<li>first:<ul>
<li>Causes <b><em>OpenFOAM</em></b>'s Allwmake.firstInstall to be called instead of Allwmake</li>
<li>Patches appropriate files in <b><em>Elmer</em></b> and <b><em>OpenFOAM</em></b></li>
<li>Links Elmer's libraries to the main lib directory in the <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> install directory</li>
</ul>
</li>
<li>notest:<ul>
<li>Causes no <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> tests to be run</li>
</ul>
</li>
<li>nofoam:<ul>
<li>Skips the building of <b><em>OpenFOAM</em></b> (generally the building of <b><em>OpenFOAM</em></b> is the longest portion, so skipping this component when possible is desirable)</li>
</ul>
</li>
</ul>
<p>BuildScript calls a series of other scripts located in the <b> /ElmerFoamFSI/BuildTools/ </b> director y. The precise manner in which these scripts are called can be seen by looking in the <b>BuildScript</b> file. <br/>
 If the user wishes to rebuild only one component of the project, these files can be called individually. They are listed below with their associated arguments:</p>
<ul>
<li><b> BuildElmerFoamFSIDriver </b> : builds only the orchestrator component<ul>
<li>first argument must be the full path to the top level <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> directory</li>
<li>optional second argument "notest" skips the running of the tests</li>
</ul>
</li>
<li><b> BuildElmerModule </b>: builds the <b><em>Elmer</em></b> software as well as the module for interfacting <b><em>Elmer</em></b> with IMPACT<ul>
<li>first argument must be the full path to the top level <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> directory</li>
<li>optional second argument "first" indicates that it is the first build and the <b><em>Elmer</em></b> libraries need to be linked to the appropriate location</li>
</ul>
</li>
<li><b> BuildIMPACT </b>: builds <b><em>IMPACT</em></b> as well as IMPACT's submodule, <b><em>IRAD</em></b><ul>
<li>first argument must be the full path to the top level <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> directory</li>
</ul>
</li>
<li><b> BuildOpenFoam </b>: builds the <b><em>OpenFOAM</em></b> application only<ul>
<li>first argument must be the full path to the top level <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> directory</li>
</ul>
</li>
<li><b> BuildOpenFoamModule </b>: builds the module to interface <b><em>OpenFOAM</em></b> with IMPACT<ul>
<li>first argument must be the full path to the top level <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> directory</li>
</ul>
</li>
<li><b> PatchScript </b>: patches some files within the the <b><em>Elmer</em></b> and <b><em>OpenFOAM</em></b> sources in order for interfacing with IMPACT<ul>
<li>first argument must be the full path to the top level <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> directory</li>
</ul>
</li>
</ul>
<p>Two additional files are present in the BuildTools directory: <b> BashSourceScript </b> and <b> CshellSourceScript </b>. These two files provide the appropriate environment setup for building and running <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b>. Users should source the one appropriate for the shell they are using before running the code. Each takes the full path to the top level <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> directory as the first argument. <br/>
 For example, from the top level, the command could be (if using Bash):</p>
<blockquote class="doxtable">
<p>Source ElmerFoamFSI/BuildTools/BashSourceScript/full/path/to/top/level/ElmerFoamFSI</p>
<p></p>
</blockquote>
<h3>4. Troubleshooting</h3>
<p>In the event that something goes wrong with the build, it is recommended that the build steps be executed in smaller batches or potentially the entire process done manually. <b>BuildScript</b> calls a series of other scripts as noted above in the "Rebuilding" section. Each of these scripts can be executed by hand in order to help clarify any issues that are occuring. Additionally, all the steps taken in the various build scripts can be done by hand. In order to manually build <b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b>, users should either follow the steps in the scripts or read the full instruction set at <a class="el" href="manual_install.html">Manual Installation</a>.</p>
<p>We encourage you to share your ideas, improvements, and issues with us. In the event that a manual install fails, please contact our support staff: <br/>
<b>Customer Support Staff Email:</b> <a href="#" onclick="location.href='mai'+'lto:'+'tec'+'h@'+'ill'+'in'+'ois'+'ro'+'cst'+'ar'+'.co'+'m'; return false;">tech@<span style="display: none;">.nosp@m.</span>illi<span style="display: none;">.nosp@m.</span>noisr<span style="display: none;">.nosp@m.</span>ocst<span style="display: none;">.nosp@m.</span>ar.co<span style="display: none;">.nosp@m.</span>m</a></p>
<h1><a class="anchor" id="irsec"></a>
Illinois Rocstar</h1>
<h2><a class="anchor" id="irproj"></a>
Project Template</h2>
<p><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> uses the Illinois Rocstar Project Template <a href="http://irweb/irproject">IRProject</a> and uses the following internal and third-party packages: <a href="http://openfoam.org" title="Open Source CFD">OpenFOAM</a>, <a href="http://elmerfem.org" title="Open Source CSM">Elmer</a>, <a href="http://www.cmake.org" title="Cross Platform Make">CMake</a>, <a href="http://cmake.org/Wiki/CMake/Testing_With_CTest" title="CMake-integrated Testing Tool">CTest</a>, <a href="http://www.stack.nl/~dimitri/doxygen/" title="Code documentation system">Doxygen</a>, <a href="http://openmultiphysics.org" title="Illinois Multiphysics Application Coupling Toolkit">IMPACT</a>, <a href="http://irweb/irad">IRAD</a>, <a href="http://www.mcs.anl.gov/research/projects/mpi/" title="Message Passing Interface">MPI</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jul 25 2016 15:51:03 for ElmerFoamFSI by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
