<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>ElmerFoamFSI: ElmerFoamFSI Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="IRTriangles_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ElmerFoamFSI
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">ElmerFoamFSI is an aeroelastic simulation application built up from OpenFOAM CFD and Elmer CSM coupled through the IMPACT multiphysics software integration infrastructure</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="elmerfoamfsi_intro"></a>
Introduction</h1>
<p><b><em><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a></em></b> is an aeroelastic simulation application built up from <b><em>OpenFOAM</em></b> CFD and <b><em>Elmer</em></b> CSM coupled through the <b><em>IMPACT</em></b> multiphysics software integration infrastructure.</p>
<h1><a class="anchor" id="quick_start"></a>
Build and Install</h1>
<p><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> comes with a build script that should work on a Linux terminal. This scripts essentially executes cmake, make, and make install for the various components of the project. The commands in these build instructions assume use of a Linux terminal. <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> requires C, C++, and Fortran compilers. Additionally, it requires gfortran of version greater than 4.8. Before beginning ensure that your gfortran compiler meets this requirement.</p>
<h3>1. Obtain the required submodules</h3>
<p>Navigate into the top level directory for <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a>.</p>
<blockquote class="doxtable">
<p>cd <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> </p>
</blockquote>
<p>Issue the following command to obtain the necessary submodules from GitHub:</p>
<blockquote class="doxtable">
<p>git submodule update --init --recursive </p>
</blockquote>
<p>The directories IMPACT, IMPACT/IRAD/ elmerfem, and foam should now be unempty.</p>
<h3>2. Execute the build script</h3>
<p>Call the build script from the top level <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> directory. Provide it with the argument "first," since this is the first time building it.</p>
<blockquote class="doxtable">
<p>./BuildScript first </p>
</blockquote>
<p>The entire build and install process can take up to around 6 hours depending on the machine. If any errors occur along the way it should stop the process. All output from the build is located in a file named Build.dat, that can be checked for error messages. At the end of the build, the tests for <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> should run and all pass. If any test fail, there may be an issue with the build.</p>
<h3>3. Rebuilding</h3>
<p>In the case of rebuilding, BuildScript can simply be executed again without the argument "first" given. The "first" argument causes the OpenFoam first install script to be called instead of the regular build script, patches some files required for linking the two applications, and makes some useful links in the install directory.</p>
<p>The full list of arguments for BuildScript are as follows:</p><ul>
<li>first:<ul>
<li>Causes OpenFoam's Allwmake.firstInstall to be called instead of Allwmake</li>
<li>Patches appropriate files in Elmer and OpenFoam</li>
<li>Links Elmer's libraries to the main lib directory in the <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> install directory</li>
</ul>
</li>
<li>notest:<ul>
<li>Causes no <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> tests to be run</li>
</ul>
</li>
<li>nofoam:<ul>
<li>Skips the building of OpenFoam (generally the building of OpenFoam is the longest portion so skipping this component when possible is desirable)</li>
</ul>
</li>
</ul>
<p>BuildScript calls a series of other scripts located in the BuildTools directory. The precise manner in which these scripts are called can be seen by looking in the BuildScript file. If the user wishes to rebuild only one component of the project, these files can be called individually. They are listed below with their associated arguments:</p>
<ul>
<li>BuildElmerFoamFSIDriver: builds only the orchestrator component<ul>
<li>first argument must be the full path to the top level <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> directory</li>
<li>optional second argument "notest" skips the running of the tests</li>
</ul>
</li>
<li>BuildElmerModule: builds the Elmer software as well as the module for interfacting Elmer with IMPACT<ul>
<li>first argument must be the full path to the top level <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> directory</li>
<li>optional second argument "first" indicates that it is the first build and the Elmer libraries need to be linked to the appropriate location</li>
</ul>
</li>
<li>BuildIMPACT: builds IMPACT as well as IMPACT's submodule IRAD<ul>
<li>first argument must be the full path to the top level <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> directory</li>
</ul>
</li>
<li>BuildOpenFoam: builds the OpenFoam application only<ul>
<li>first argument must be the full path to the top level <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> directory</li>
</ul>
</li>
<li>BuildOpenFoamModule: builds the module to interface OpenFoam with IMPACT<ul>
<li>first argument must be the full path to the top level <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> directory</li>
</ul>
</li>
<li>PatchScript: patches some files within the the Elmer and OpenFoam sources in order for interfacing with IMPACT<ul>
<li>first argument must be the full path to the top level <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> directory</li>
</ul>
</li>
</ul>
<p>Two additional files are present in the BuildTools directory: BashSourceScript and CshellSourceScript. These two files provide the appropriate environment setup for building and running <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a>. Users should source the one appropriate for the shell they are using before running the code. Each takes the full path to the top level <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> directory as the first argument.</p>
<h3>4. Troubleshooting</h3>
<p>In the event that something goes wrong with the build, it is recommended that the build steps be executed in smaller batches or potentially the entire process done manually. BuildScript calls a series of other scripts as noted above in the "Rebuilding" section. Each of these scripts can be executed by hand in order to help clarify any issues that are occuring. Additionally, all the steps taken in the various build scripts can be done by hand. In order to manually build <a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> users should either follow the steps in the scripts or read the instructions at <a class="el" href="manual_install.html">Manual Installation</a>.</p>
<h1><a class="anchor" id="irsec"></a>
Illinois Rocstar</h1>
<h2><a class="anchor" id="irproj"></a>
Project Template</h2>
<p><a class="el" href="namespaceElmerFoamFSI.html" title="Project-specific namespace. ">ElmerFoamFSI</a> uses the Illinois Rocstar Project Template <a href="http://irweb/irproject">IRProject</a> and uses the following internal and third-party packages: <a href="http://openfoam.org" title="Open Source CFD">OpenFOAM</a> <a href="http://elmerfem.org" title="Open Source CSM">Elmer</a> <a href="http://www.cmake.org" title="Cross Platform Make">CMake</a> <a href="http://cmake.org/Wiki/CMake/Testing_With_CTest" title="CMake-integrated Testing Tool">CTest</a> <a href="http://www.stack.nl/~dimitri/doxygen/" title="Code documentation system">Doxygen</a> <a href="http://openmultiphysics.org" title="Illinois Multiphysics Application Coupling Toolkit">IMPACT</a> <a href="http://irweb/irad">IRAD</a> <a href="http://www.mcs.anl.gov/research/projects/mpi/" title="Message Passing Interface">MPI</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Mar 1 2016 14:09:58 for ElmerFoamFSI by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
